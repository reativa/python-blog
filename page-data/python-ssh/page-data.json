{"componentChunkName":"component---src-templates-blog-post-js","path":"/python-ssh/","result":{"data":{"site":{"siteMetadata":{"title":"Python para impacientes"}},"markdownRemark":{"id":"ef35aaca-c04f-5091-809b-d525d48089e7","excerpt":"Login ssh Acesse a Referência original 1:\nAcesse a Referência original 2:","html":"<h1></h1>\n<h2>Login ssh</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># ssh me@localhost \"uname\"</span>\n\n<span class=\"token keyword\">from</span> paramiko<span class=\"token punctuation\">.</span>client <span class=\"token keyword\">import</span> SSHClient\n<span class=\"token keyword\">with</span> SSHClient<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> ssh<span class=\"token punctuation\">:</span>\n    ssh<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">,</span> username<span class=\"token operator\">=</span><span class=\"token string\">\"me\"</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">\"pwd\"</span><span class=\"token punctuation\">)</span>\n    stdin<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> stderr <span class=\"token operator\">=</span> ssh<span class=\"token punctuation\">.</span>exec_command<span class=\"token punctuation\">(</span><span class=\"token string\">\"uname\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stdout<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># ssh -p 2222 me@localhost \"uname\"</span>\n\n<span class=\"token keyword\">from</span> paramiko<span class=\"token punctuation\">.</span>client <span class=\"token keyword\">import</span> SSHClient\n<span class=\"token keyword\">with</span> SSHClient<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> ssh<span class=\"token punctuation\">:</span>\n    ssh<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2222</span><span class=\"token punctuation\">,</span> username<span class=\"token operator\">=</span><span class=\"token string\">\"me\"</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">\"pwd\"</span><span class=\"token punctuation\">)</span>\n    stdin<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> stderr <span class=\"token operator\">=</span> ssh<span class=\"token punctuation\">.</span>exec_command<span class=\"token punctuation\">(</span><span class=\"token string\">\"uname\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stdout<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># ignore known hosts</span>\n<span class=\"token comment\"># ssh -o StrictHostKeyChecking=no \\</span>\n<span class=\"token comment\">#     -o UserKnownHostsFile=/dev/null \\</span>\n<span class=\"token comment\">#     me@localhost \"uname\"</span>\n\n<span class=\"token keyword\">import</span> paramiko\n<span class=\"token keyword\">from</span> paramiko<span class=\"token punctuation\">.</span>client <span class=\"token keyword\">import</span> SSHClient\n<span class=\"token keyword\">with</span> SSHClient<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> ssh<span class=\"token punctuation\">:</span>\n    ssh<span class=\"token punctuation\">.</span>set_missing_host_key_policy<span class=\"token punctuation\">(</span>paramiko<span class=\"token punctuation\">.</span>AutoAddPolicy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    ssh<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span><span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">,</span> username<span class=\"token operator\">=</span><span class=\"token string\">\"me\"</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">\"pwd\"</span><span class=\"token punctuation\">)</span>\n    stdin<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> stderr <span class=\"token operator\">=</span> ssh<span class=\"token punctuation\">.</span>exec_command<span class=\"token punctuation\">(</span><span class=\"token string\">\"uname\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stdout<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># ssh-keygen -f key -m pem -t rsa</span>\n<span class=\"token comment\"># ssh-copy-id -i key me@localhost</span>\n<span class=\"token comment\"># ssh -i key me@localhost \"uname\"</span>\n\n<span class=\"token keyword\">with</span> SSHClient<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> ssh<span class=\"token punctuation\">:</span>\n    ssh<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span> username<span class=\"token operator\">=</span><span class=\"token string\">\"me\"</span><span class=\"token punctuation\">,</span> key_filename<span class=\"token operator\">=</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span>\n    stdin<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> stderr <span class=\"token operator\">=</span> ssh<span class=\"token punctuation\">.</span>exec_command<span class=\"token punctuation\">(</span><span class=\"token string\">\"uname\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>stdout<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># ssh-keygen -m pem -f key -t rsa -P passphrase</span>\n<span class=\"token comment\"># eval $(ssh-agent)</span>\n<span class=\"token comment\"># ssh-add key</span>\n<span class=\"token comment\"># ssh -i key me@localhost</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><a href=\"https://www.pythonsheets.com/\">Acesse a Referência original 1:</a>\n<a href=\"https://www.pythoncheatsheet.org/\">Acesse a Referência original 2:</a></p>","frontmatter":{"title":"Python tudo sobre SSH Secure Shell","date":"January 05, 2020","description":""}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/python-ssh/","previous":{"fields":{"slug":"/python-list/"},"frontmatter":{"title":"Python tudo sobre Listas"}},"next":{"fields":{"slug":"/python-rexp/"},"frontmatter":{"title":"Python tudo sobre Regex Expressões regulares"}}}}}